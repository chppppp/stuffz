{"kind":"PodList","apiVersion":"v1","metadata":{},"items":[{"metadata":{"name":"heapster-84d98db467-fml2f","generateName":"heapster-84d98db467-","namespace":"critical-stack","selfLink":"/api/v1/namespaces/critical-stack/pods/heapster-84d98db467-fml2f","uid":"760c9dc9-f7df-11e8-a3e3-0af8dd52de32","resourceVersion":"128","creationTimestamp":"2018-12-04T16:12:56Z","labels":{"k8s-app":"heapster","pod-template-hash":"4085486023"},"annotations":{"cilium.io/identity":"39060","kubernetes.io/config.seen":"2018-12-04T16:12:56.949208081Z","kubernetes.io/config.source":"api","scheduler.alpha.kubernetes.io/critical-pod":""},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"heapster-84d98db467","uid":"76068e62-f7df-11e8-a3e3-0af8dd52de32","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"heapster-token-gptrp","secret":{"secretName":"heapster-token-gptrp","defaultMode":420}}],"containers":[{"name":"heapster","image":"k8s.gcr.io/heapster-amd64:v1.5.4","command":["/heapster","--source=kubernetes:https://kubernetes.default"],"ports":[{"name":"heapster","hostPort":8082,"containerPort":8082,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"heapster-token-gptrp","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"httpGet":{"path":"/healthz","port":8082,"scheme":"HTTP"},"initialDelaySeconds":180,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","nodeSelector":{"role":"master"},"serviceAccountName":"heapster","serviceAccount":"heapster","nodeName":"ip-10-10-101-224.ec2.internal","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"CriticalAddonsOnly","operator":"Exists"},{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}]},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-12-04T16:12:56Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-12-04T16:13:24Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-12-04T16:12:56Z"}],"hostIP":"10.10.101.224","podIP":"10.253.0.71","startTime":"2018-12-04T16:12:56Z","containerStatuses":[{"name":"heapster","state":{"running":{"startedAt":"2018-12-04T16:13:23Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"k8s.gcr.io/heapster-amd64:v1.5.4","imageID":"docker-pullable://k8s.gcr.io/heapster-amd64@sha256:dccaabb0c20cf05c29baefa1e9bf0358b083ccc0fab492b9b3b47fb7e4db5472","containerID":"docker://57eb180bb457fe2b5c298c8c1fb02a12e94b2ae272a52c5f0feac0ad6eb25e3b"}],"qosClass":"BestEffort"}},{"metadata":{"name":"cilium-x5sd4","generateName":"cilium-","namespace":"critical-stack","selfLink":"/api/v1/namespaces/critical-stack/pods/cilium-x5sd4","uid":"76a1ec96-f7df-11e8-a3e3-0af8dd52de32","resourceVersion":"132","creationTimestamp":"2018-12-04T16:12:57Z","labels":{"controller-revision-hash":"2468072303","k8s-app":"cilium","kubernetes.io/cluster-service":"true","pod-template-generation":"1"},"annotations":{"kubernetes.io/config.seen":"2018-12-04T16:12:57.493631863Z","kubernetes.io/config.source":"api","prometheus.io/port":"9090","prometheus.io/scrape":"true","scheduler.alpha.kubernetes.io/critical-pod":"","scheduler.alpha.kubernetes.io/tolerations":"[{\"key\":\"dedicated\",\"operator\":\"Equal\",\"value\":\"master\",\"effect\":\"NoSchedule\"}]"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"cilium","uid":"75a0e802-f7df-11e8-a3e3-0af8dd52de32","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"cilium-run","hostPath":{"path":"/var/run/cilium","type":""}},{"name":"bpf-maps","hostPath":{"path":"/sys/fs/bpf","type":""}},{"name":"crio-socket","hostPath":{"path":"/var/run/crio/crio.sock","type":""}},{"name":"docker-socket","hostPath":{"path":"/var/run/docker.sock","type":""}},{"name":"cni-path","hostPath":{"path":"/usr/libexec/cni","type":""}},{"name":"etc-cni-netd","hostPath":{"path":"/etc/cni/net.d","type":""}},{"name":"etcd-config-path","configMap":{"name":"cilium-config","items":[{"key":"etcd-config","path":"etcd.config"}],"defaultMode":420}},{"name":"etcd-secrets","secret":{"secretName":"cilium-etcd-secrets","defaultMode":420,"optional":true}},{"name":"clustermesh-secrets","secret":{"secretName":"cilium-clustermesh","defaultMode":420,"optional":true}},{"name":"default-token-mbwwm","secret":{"secretName":"default-token-mbwwm","defaultMode":420}}],"initContainers":[{"name":"clean-cilium-state","image":"docker.io/library/busybox:1.28.4","command":["sh","-c","if [ \"${CLEAN_CILIUM_STATE}\" = \"true\" ]; then rm -rf /var/run/cilium/state; rm -rf /sys/fs/bpf/tc/globals/cilium_*; fi"],"envFrom":[{"configMapRef":{"name":"cilium-config"}}],"resources":{},"volumeMounts":[{"name":"bpf-maps","mountPath":"/sys/fs/bpf"},{"name":"cilium-run","mountPath":"/var/run/cilium"},{"name":"default-token-mbwwm","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["NET_ADMIN"]},"privileged":true}}],"containers":[{"name":"cilium-agent","image":"docker.io/cilium/cilium:v1.2.5","command":["cilium-agent"],"args":["--debug=$(CILIUM_DEBUG)","-t=vxlan","--kvstore=etcd","--kvstore-opt=etcd.config=/var/lib/etcd-config/etcd.config","--disable-ipv4=false","--ipv4-service-range=$(CILIUM_SERVICE_IP_RANGE)"],"ports":[{"name":"prometheus","hostPort":9090,"containerPort":9090,"protocol":"TCP"}],"envFrom":[{"configMapRef":{"name":"cilium-config"}}],"env":[{"name":"K8S_NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"CILIUM_PROMETHEUS_SERVE_ADDR","value":":9090"}],"resources":{},"volumeMounts":[{"name":"bpf-maps","mountPath":"/sys/fs/bpf"},{"name":"cilium-run","mountPath":"/var/run/cilium"},{"name":"cni-path","mountPath":"/host/opt/cni/bin"},{"name":"etc-cni-netd","mountPath":"/host/etc/cni/net.d"},{"name":"crio-socket","readOnly":true,"mountPath":"/var/run/crio.sock"},{"name":"docker-socket","readOnly":true,"mountPath":"/var/run/docker.sock"},{"name":"etcd-config-path","readOnly":true,"mountPath":"/var/lib/etcd-config"},{"name":"etcd-secrets","readOnly":true,"mountPath":"/var/lib/etcd-secrets"},{"name":"default-token-mbwwm","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["cilium","status"]},"initialDelaySeconds":120,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":10},"readinessProbe":{"exec":{"command":["cilium","status"]},"initialDelaySeconds":5,"timeoutSeconds":1,"periodSeconds":5,"successThreshold":1,"failureThreshold":3},"lifecycle":{"postStart":{"exec":{"command":["/cni-install.sh"]}},"preStop":{"exec":{"command":["/cni-uninstall.sh"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["NET_ADMIN"]},"privileged":true}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"ip-10-10-101-224.ec2.internal","hostNetwork":true,"securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node-role.kubernetes.io/master","effect":"NoSchedule"},{"key":"node.cloudprovider.kubernetes.io/uninitialized","value":"true","effect":"NoSchedule"},{"key":"CriticalAddonsOnly","operator":"Exists"},{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/disk-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"}],"priorityClassName":"system-node-critical"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-12-04T16:12:58Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-12-04T16:13:20Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-12-04T16:12:57Z"}],"hostIP":"10.10.101.224","podIP":"10.10.101.224","startTime":"2018-12-04T16:12:57Z","initContainerStatuses":[{"name":"clean-cilium-state","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2018-12-04T16:12:58Z","finishedAt":"2018-12-04T16:12:58Z","containerID":"docker://125555d14f7b3a022157cd9a69c8d8383cfd59bfd265be430d4e3e443f3d9f34"}},"lastState":{},"ready":true,"restartCount":0,"image":"127.0.0.1:5000/library/busybox:1.28.4","imageID":"docker-pullable://busybox@sha256:141c253bc4c3fd0a201d32dc1f493bcf3fff003b6df416dea4f41046e0f37d47","containerID":"docker://125555d14f7b3a022157cd9a69c8d8383cfd59bfd265be430d4e3e443f3d9f34"}],"containerStatuses":[{"name":"cilium-agent","state":{"running":{"startedAt":"2018-12-04T16:13:14Z"}},"lastState":{"terminated":{"exitCode":1,"reason":"Error","startedAt":"2018-12-04T16:13:12Z","finishedAt":"2018-12-04T16:13:13Z","containerID":"docker://34816c4718f97b2db82c1e9e975e96635dfbf497a5b7af5ed8ad82d17a4ca269"}},"ready":true,"restartCount":1,"image":"cilium/cilium:v1.2.5","imageID":"docker-pullable://cilium/cilium@sha256:7ff64f7e24314af830ecad650b9656bdb2c9f0122f7104b9225c20973e5f4be4","containerID":"docker://0756966180a77778b41d2e14d695ef1f3603ced4541f346c3845440521f1b336"}],"qosClass":"BestEffort"}},{"metadata":{"name":"coredns-8c7c85474-gptwq","generateName":"coredns-8c7c85474-","namespace":"critical-stack","selfLink":"/api/v1/namespaces/critical-stack/pods/coredns-8c7c85474-gptwq","uid":"76a6aaf7-f7df-11e8-a3e3-0af8dd52de32","resourceVersion":"139","creationTimestamp":"2018-12-04T16:12:57Z","labels":{"k8s-app":"kube-dns","pod-template-hash":"473741030"},"annotations":{"cilium.io/identity":"12012","kubernetes.io/config.seen":"2018-12-04T16:12:57.566832949Z","kubernetes.io/config.source":"api","scheduler.alpha.kubernetes.io/critical-pod":""},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"coredns-8c7c85474","uid":"76062ab5-f7df-11e8-a3e3-0af8dd52de32","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"config-volume","configMap":{"name":"coredns","items":[{"key":"Corefile","path":"Corefile"}],"defaultMode":420}},{"name":"default-token-mbwwm","secret":{"secretName":"default-token-mbwwm","defaultMode":420}}],"containers":[{"name":"coredns","image":"coredns/coredns:1.2.2","args":["-conf","/etc/coredns/Corefile"],"ports":[{"name":"dns","containerPort":53,"protocol":"UDP"},{"name":"dns-tcp","containerPort":53,"protocol":"TCP"},{"name":"metrics","containerPort":9153,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"config-volume","mountPath":"/etc/coredns"},{"name":"default-token-mbwwm","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"httpGet":{"path":"/health","port":8080,"scheme":"HTTP"},"initialDelaySeconds":60,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":5},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"Default","serviceAccountName":"default","serviceAccount":"default","nodeName":"ip-10-10-101-224.ec2.internal","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"CriticalAddonsOnly","operator":"Exists"},{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}]},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-12-04T16:12:57Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-12-04T16:13:24Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2018-12-04T16:12:57Z"}],"hostIP":"10.10.101.224","podIP":"10.253.0.173","startTime":"2018-12-04T16:12:57Z","containerStatuses":[{"name":"coredns","state":{"running":{"startedAt":"2018-12-04T16:13:23Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"coredns/coredns:1.2.2","imageID":"docker-pullable://coredns/coredns@sha256:3e2be1cec87aca0b74b7668bbe8c02964a95a402e45ceb51b2252629d608d03a","containerID":"docker://edf58190542e202f0d5c1139678d3f2d12d54d4cc0c25f3d4f424c216e9e5e3d"}],"qosClass":"BestEffort"}}]}
